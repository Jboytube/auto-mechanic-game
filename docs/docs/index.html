<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Red Car Repair Workshop</title>
  <style>
    body {
      background: #fff0f0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #800000;
      margin: 0;
      padding: 20px;
      text-align: center;
      user-select: none;
    }
    h1 {
      color: #b30000;
      margin-bottom: 10px;
    }
    #car {
      position: relative;
      margin: 20px auto;
      width: 350px;
      height: 180px;
      background: #ffcccc;
      border: 5px solid #b30000;
      border-radius: 20px;
      box-shadow: 0 0 15px #b30000aa;
    }
    /* Car parts */
    .part {
      position: absolute;
      background: #ff6666;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.4s ease;
      border: 2px solid #b30000;
      box-shadow: inset 0 0 10px #b30000aa;
    }
    /* Specific parts */
    #engine {
      width: 80px;
      height: 60px;
      top: 30px;
      left: 40px;
    }
    #tire1, #tire2 {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      bottom: 15px;
      background: #ff6666;
      border: 2px solid #b30000;
      box-shadow: inset 0 0 10px #b30000aa;
    }
    #tire1 {
      left: 50px;
    }
    #tire2 {
      right: 50px;
    }
    #headlight {
      width: 40px;
      height: 30px;
      top: 50px;
      right: 20px;
      border-radius: 5px;
    }
    #door {
      width: 90px;
      height: 100px;
      top: 40px;
      left: 150px;
      border-radius: 12px;
    }

    /* Fixed part style */
    .fixed {
      background: #00b300 !important; /* green */
      box-shadow: inset 0 0 15px #007700cc !important;
      cursor: default;
    }

    /* Tools container */
    #tools {
      max-width: 450px;
      margin: 30px auto 10px;
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      gap: 10px;
    }

    /* Tool buttons */
    .tool-btn {
      background: #b30000;
      color: white;
      border: none;
      border-radius: 12px;
      padding: 14px 22px;
      font-size: 18px;
      cursor: pointer;
      box-shadow: 0 5px 10px #a00000aa;
      transition: background 0.3s ease;
      flex-grow: 1;
      min-width: 120px;
      user-select: none;
    }
    .tool-btn:hover:not(:disabled) {
      background: #e60000;
    }
    .tool-btn:disabled {
      background: #660000;
      cursor: default;
      box-shadow: none;
    }

    /* Progress bar container */
    #progress-container {
      width: 350px;
      height: 25px;
      background: #ffb3b3;
      border-radius: 15px;
      margin: 25px auto 10px;
      border: 3px solid #b30000;
      box-shadow: inset 0 0 10px #b30000aa;
    }

    /* Progress bar fill */
    #progress-bar {
      height: 100%;
      width: 0%;
      background: #b30000;
      border-radius: 15px 0 0 15px;
      transition: width 0.5s ease;
    }

    /* Status message */
    #status {
      font-size: 20px;
      font-weight: 600;
      margin-top: 15px;
      min-height: 28px;
    }
  </style>
</head>
<body>

  <h1>Red Car Repair Workshop</h1>

  <div id="car">
    <div id="engine" class="part" title="Engine"></div>
    <div id="tire1" class="part" title="Front Tire"></div>
    <div id="tire2" class="part" title="Rear Tire"></div>
    <div id="headlight" class="part" title="Headlight"></div>
    <div id="door" class="part" title="Door"></div>
  </div>

  <div id="tools">
    <button class="tool-btn" data-tool="wrench">üîß Wrench</button>
    <button class="tool-btn" data-tool="screwdriver">ü™õ Screwdriver</button>
    <button class="tool-btn" data-tool="hammer">üî® Hammer</button>
    <button class="tool-btn" data-tool="paintbrush">üñåÔ∏è Paintbrush</button>
  </div>

  <div id="progress-container">
    <div id="progress-bar"></div>
  </div>

  <div id="status">Select a car part, then choose the right tool to fix it!</div>

  <script>
    // Map car parts to correct tools
    const correctTools = {
      engine: 'wrench',
      tire1: 'hammer',
      tire2: 'hammer',
      headlight: 'screwdriver',
      door: 'paintbrush'
    };

    let fixedParts = {
      engine: false,
      tire1: false,
      tire2: false,
      headlight: false,
      door: false
    };

    let selectedPart = null;
    const statusEl = document.getElementById('status');
    const progressBar = document.getElementById('progress-bar');
    const parts = document.querySelectorAll('#car .part');
    const tools = document.querySelectorAll('.tool-btn');

    function updateProgress() {
      const fixedCount = Object.values(fixedParts).filter(v => v).length;
      const totalParts = Object.keys(fixedParts).length;
      const percent = (fixedCount / totalParts) * 100;
      progressBar.style.width = percent + '%';
      if (fixedCount === totalParts) {
        statusEl.textContent = 'üéâ All parts fixed! The car is ready to drive! üöóüí®';
        tools.forEach(btn => btn.disabled = true);
        parts.forEach(p => p.style.cursor = 'default');
      } else {
        statusEl.textContent = `Fix the ${selectedPart || 'car part'} by using the right tool!`;
      }
    }

    // When a car part is clicked
    parts.forEach(part => {
      part.addEventListener('click', () => {
        if (fixedParts[part.id]) {
          statusEl.textContent = `${part.title} is already fixed! Choose another part.`;
          return;
        }
        selectedPart = part.id;
        statusEl.textContent = `Selected ${part.title}. Now choose the correct tool.`;
        parts.forEach(p => p.style.borderColor = '#b30000'); // reset border color
        part.style.borderColor = '#e60000'; // highlight selected
      });
    });

    // When a tool is clicked
    tools.forEach(tool => {
      tool.addEventListener('click', () => {
        if (!selectedPart) {
          statusEl.textContent = 'Please select a car part first!';
          return;
        }
        if (fixedParts[selectedPart]) {
          statusEl.textContent = `${selectedPart} is already fixed. Pick another part.`;
          return;
        }
        if (correctTools[selectedPart] === tool.dataset.tool) {
          fixedParts[selectedPart] = true;
          document.getElementById(selectedPart).classList.add('fixed');
          updateProgress();
        } else {
          statusEl.textContent = '‚ùå Wrong tool! Try a different one.';
        }
      });
    });

    updateProgress();
  </script>
</body>
</html>

